<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Booking | Explore Ease</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: url("images/hero.jpg") center/cover no-repeat;
      position: relative;
      color: #fff;
    }
    body::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.6);
      z-index: 0;
    }
    .booking-form, .why-choose-us {
      position: relative;
      z-index: 1;
      background: rgba(255,255,255,0.9);
      color: #000;
      padding: 20px;
      border-radius: 12px;
      max-width: 600px;
      margin: 20px auto;
    }
    .booking-form h3 {
      margin-top: 15px;
    }
    .why-choose-us { margin-top: 40px; }
    .choose-card {
      background: #fff;
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      margin-bottom: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .choose-card span {
      font-size: 2rem;
      display: block;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>

<section class="booking-page" id="booking-page">
  <h2 id="hotelName">Booking</h2>
  <form class="booking-form" onsubmit="confirmBooking(event)">
    <h3>Enter Your Details</h3>
    <input type="text" placeholder="Full Name" required>
    <input type="email" placeholder="Email Address" required>
    <input type="number" placeholder="Guests" min="1" required>

    <!-- check-in and check-out dates -->
    <label>Check-in:</label>
    <input type="date" id="checkin" required onchange="updatePrice()">
    <label>Check-out:</label>
    <input type="date" id="checkout" required onchange="updatePrice()">

    <!-- Room Selection -->
    <label for="roomSelect">Select Room Type:</label>
    <select id="roomSelect" required onchange="updatePrice()">
      <option value="">-- Choose a room --</option>
    </select>

    <!-- Price and nights info -->
    <p id="roomPrice" style="font-weight:bold; color:#333;"></p>

    <!-- Payment Method -->
    <h3>Payment Method</h3>
    <label><input type="radio" name="payment" value="credit" required> üí≥ Credit/Debit Card</label><br>
    <label><input type="radio" name="payment" value="upi"> üì± Online Cash Transfer</label><br>
    <label><input type="radio" name="payment" value="paypal"> üÖøÔ∏è PayPal</label><br>
    <label><input type="radio" name="payment" value="cash"> üíµ Pay at Hotel</label><br>

    <button type="submit">Confirm Booking</button>
  </form>
</section>

<script>
// Hotel rooms with prices
const hotelRooms = {
  "Grand Palace Hotel": { "Deluxe":120, "Suite":180, "Standard":80, "Family Room":150, "Business Suite":200 },
  "Seaside Resort": { "Ocean View":170, "Standard":80, "Family Suite":150, "Deluxe Room":120 },
  "Mountain View Lodge": { "Cabin":130, "Deluxe":120, "Honeymoon Suite":220, "Standard Room":80 },
  "City Center Inn": { "Standard":80, "Business Suite":200, "Single Room":50 },
  "Royal Luxury Stay": { "Presidential Suite":300, "Deluxe":120, "Standard":80, "Honeymoon Suite":220 },
  "Comfort Budget Stay": { "Single":50, "Twin":70, "Family Room":150, "Standard Room":80 }
};

// Extract hotel from URL
const urlParams = new URLSearchParams(window.location.search);
const hotelName = urlParams.get("hotel");
document.getElementById("hotelName").innerText = "Booking at " + hotelName;

// Populate room dropdown
const roomSelect = document.getElementById("roomSelect");
if (hotelRooms[hotelName]) {
  Object.keys(hotelRooms[hotelName]).forEach(room => {
    const option = document.createElement("option");
    option.value = room;
    option.textContent = room;
    roomSelect.appendChild(option);
  });
}

// Helper: calculate nights
function getNights() {
  const checkin = document.getElementById("checkin").value;
  const checkout = document.getElementById("checkout").value;
  if (checkin && checkout) {
    const inDate = new Date(checkin);
    const outDate = new Date(checkout);
    const diff = (outDate - inDate) / (1000 * 60 * 60 * 24);
    return diff > 0 ? diff : 0;
  }
  return 0;
}

// Show price when room/dates selected
function updatePrice() {
  const selectedRoom = roomSelect.value;
  const priceEl = document.getElementById("roomPrice");
  const nights = getNights();
  if (selectedRoom && hotelRooms[hotelName][selectedRoom]) {
    const perNight = hotelRooms[hotelName][selectedRoom];
    const total = nights > 0 ? perNight * nights : perNight;
    priceEl.textContent = nights > 0
      ? `Price: $${perNight} / night √ó ${nights} nights = $${total}`
      : `Price: $${perNight} / night`;
  } else {
    priceEl.textContent = "";
  }
}

// Confirm booking
function confirmBooking(e) {
  e.preventDefault();
  const selectedRoom = roomSelect.value;
  const nights = getNights();
  const perNight = hotelRooms[hotelName][selectedRoom];
  const total = perNight * (nights || 1);
  const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
  alert(`üéâ Booking Confirmed!
Hotel: ${hotelName}
Room: ${selectedRoom}
Nights: ${nights || 1}
Total Price: $${total}
Payment: ${paymentMethod}`);
}
</script>

</body>
</html>
